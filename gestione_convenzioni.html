<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üìã Gestione Convenzioni Comuni - Pronto Strade</title>
    
    <!-- React -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        .table-scroll {
            max-height: calc(100vh - 300px);
            overflow-y: auto;
        }
        .sticky-header th {
            position: sticky;
            top: 0;
            background: white;
            z-index: 10;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Navbar -->
    <div id="navbar-root"></div>
    
    <!-- Main Content -->
    <div id="root"></div>

    <!-- Navbar Component -->
    <script src="navbar-component.js"></script>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // Firebase Config
        const firebaseConfig = {
            apiKey: "AIzaSyDV_PzO4_PnR9xG9OXKHogE8TIophl9D-M",
            authDomain: "analisi-commerciali.firebaseapp.com",
            projectId: "analisi-commerciali",
            storageBucket: "analisi-commerciali.firebasestorage.app",
            messagingSenderId: "560138113336",
            appId: "1:560138113336:web:d69384ff0bf3e20dbe71cd"
        };

        if (!firebase.apps.length) {
            firebase.initializeApp(firebaseConfig);
        }
        const auth = firebase.auth();
        const db = firebase.firestore();

        function GestioneConvenzioni() {
            const [user, setUser] = useState(null);
            const [loading, setLoading] = useState(true);
            const [comuni, setComuni] = useState([]);
            const [filteredComuni, setFilteredComuni] = useState([]);
            
            // Filtri
            const [searchTerm, setSearchTerm] = useState('');
            const [filterConvenzione, setFilterConvenzione] = useState('all');
            const [filterScadenza, setFilterScadenza] = useState('all');
            const [filterRegione, setFilterRegione] = useState('all');
            const [filterProvincia, setFilterProvincia] = useState('all');
            
            // Editing
            const [editingId, setEditingId] = useState(null);
            const [editData, setEditData] = useState({});
            const [saving, setSaving] = useState(false);
            
            // Stats
            const [stats, setStats] = useState({
                totali: 0,
                conConvenzione: 0,
                scadute: 0,
                valide: 0
            });

            // Regioni e Province uniche
            const [regioni, setRegioni] = useState([]);
            const [province, setProvince] = useState([]);

            // Auth check
            useEffect(() => {
                const unsubscribe = auth.onAuthStateChanged((firebaseUser) => {
                    if (firebaseUser) {
                        setUser(firebaseUser);
                        window.mountNavbar(firebaseUser.email);
                        loadComuni();
                    } else {
                        window.location.href = 'login.html';
                    }
                });
                return () => unsubscribe();
            }, []);

            // Load data
            const loadComuni = async () => {
                setLoading(true);
                try {
                    const snapshot = await db.collection('comuni').get();
                    const data = snapshot.docs.map(doc => ({
                        id: doc.id,
                        ...doc.data()
                    }));
                    
                    // Ordina per comune
                    data.sort((a, b) => (a.Comune || '').localeCompare(b.Comune || ''));
                    
                    setComuni(data);
                    
                    // Estrai regioni e province uniche
                    const uniqueRegioni = [...new Set(data.map(c => c.Regione).filter(Boolean))].sort();
                    const uniqueProvince = [...new Set(data.map(c => c.Provincia).filter(Boolean))].sort();
                    setRegioni(uniqueRegioni);
                    setProvince(uniqueProvince);
                    
                    calculateStats(data);
                } catch (error) {
                    alert(`Errore caricamento: ${error.message}`);
                } finally {
                    setLoading(false);
                }
            };

            // Calculate stats
            const calculateStats = (data) => {
                const oggi = new Date();
                let conConvenzione = 0;
                let conPS = 0;
                let conCompetitor = 0;
                let conAltro = 0;
                let scadute = 0;
                let valide = 0;
                
                data.forEach(c => {
                    const conv = c.Convenzione;
                    // Conta convenzioni (qualsiasi tipo tranne Nessuna)
                    if (conv && conv !== 'Nessuna' && conv !== false) {
                        conConvenzione++;
                        
                        // Conta per tipo
                        if (conv === 'PS' || conv === true || conv === 'Si') {
                            conPS++;
                        } else if (conv === 'Competitor') {
                            conCompetitor++;
                        } else if (conv === 'Altro') {
                            conAltro++;
                        }
                        
                        // Verifica scadenza
                        if (c.DataScadenza) {
                            const scadenza = c.DataScadenza.toDate ? c.DataScadenza.toDate() : new Date(c.DataScadenza);
                            if (scadenza < oggi) {
                                scadute++;
                            } else {
                                valide++;
                            }
                        }
                    }
                });
                
                setStats({
                    totali: data.length,
                    conConvenzione,
                    conPS,
                    conCompetitor,
                    conAltro,
                    scadute,
                    valide
                });
            };

            // Apply filters
            useEffect(() => {
                let filtered = [...comuni];
                
                // Filtro ricerca
                if (searchTerm) {
                    const term = searchTerm.toLowerCase();
                    filtered = filtered.filter(c => 
                        (c.Comune || '').toLowerCase().includes(term) ||
                        (c.Provincia || '').toLowerCase().includes(term) ||
                        (c.Regione || '').toLowerCase().includes(term)
                    );
                }
                
                // Filtro convenzione
                if (filterConvenzione !== 'all') {
                    filtered = filtered.filter(c => {
                        const conv = c.Convenzione;
                        
                        if (filterConvenzione === 'si') {
                            // Qualsiasi convenzione (tranne Nessuna)
                            return conv && conv !== 'Nessuna' && conv !== false;
                        } else if (filterConvenzione === 'no') {
                            // Nessuna convenzione
                            return !conv || conv === 'Nessuna' || conv === false;
                        } else if (filterConvenzione === 'PS') {
                            return conv === 'PS' || conv === true || conv === 'Si';
                        } else if (filterConvenzione === 'Competitor') {
                            return conv === 'Competitor';
                        } else if (filterConvenzione === 'Altro') {
                            return conv === 'Altro';
                        }
                        return true;
                    });
                }
                
                // Filtro scadenza
                if (filterScadenza !== 'all') {
                    const oggi = new Date();
                    filtered = filtered.filter(c => {
                        if (!c.DataScadenza) return filterScadenza === 'nessuna';
                        const scadenza = c.DataScadenza.toDate ? c.DataScadenza.toDate() : new Date(c.DataScadenza);
                        const isScaduta = scadenza < oggi;
                        return filterScadenza === 'scadute' ? isScaduta : !isScaduta;
                    });
                }
                
                // Filtro regione
                if (filterRegione !== 'all') {
                    filtered = filtered.filter(c => c.Regione === filterRegione);
                }
                
                // Filtro provincia
                if (filterProvincia !== 'all') {
                    filtered = filtered.filter(c => c.Provincia === filterProvincia);
                }
                
                setFilteredComuni(filtered);
            }, [comuni, searchTerm, filterConvenzione, filterScadenza, filterRegione, filterProvincia]);

            // Start editing
            const startEdit = (comune) => {
                setEditingId(comune.id);
                // Normalizza il valore della convenzione
                let convValue = 'Nessuna';
                if (comune.Convenzione) {
                    if (comune.Convenzione === true || comune.Convenzione === 'Si') {
                        convValue = 'PS'; // Default per vecchi valori boolean
                    } else if (typeof comune.Convenzione === 'string') {
                        convValue = comune.Convenzione; // PS, Competitor, Altro
                    }
                }
                
                setEditData({
                    LAT: comune.LAT || 0,
                    LON: comune.LON || 0,
                    Convenzione: convValue,
                    DataScadenza: comune.DataScadenza ? 
                        (comune.DataScadenza.toDate ? 
                            comune.DataScadenza.toDate().toISOString().split('T')[0] : 
                            new Date(comune.DataScadenza).toISOString().split('T')[0]
                        ) : ''
                });
            };

            // Cancel editing
            const cancelEdit = () => {
                setEditingId(null);
                setEditData({});
            };

            // Save changes
            const saveChanges = async (comuneId) => {
                setSaving(true);
                try {
                    const updateData = {
                        LAT: parseFloat(editData.LAT) || 0,
                        LON: parseFloat(editData.LON) || 0,
                        Convenzione: editData.Convenzione,
                        DataScadenza: editData.DataScadenza ? 
                            firebase.firestore.Timestamp.fromDate(new Date(editData.DataScadenza)) : null,
                        lastModifiedBy: user.email,
                        lastModifiedAt: firebase.firestore.FieldValue.serverTimestamp()
                    };
                    
                    await db.collection('comuni').doc(comuneId).update(updateData);
                    
                    // Ricarica dati
                    await loadComuni();
                    
                    setEditingId(null);
                    setEditData({});
                } catch (error) {
                    alert(`Errore salvataggio: ${error.message}`);
                } finally {
                    setSaving(false);
                }
            };

            // Format date
            const formatDate = (data) => {
                if (!data) return '-';
                const date = data.toDate ? data.toDate() : new Date(data);
                return date.toLocaleDateString('it-IT');
            };

            // Check if scaduta
            const isScaduta = (data) => {
                if (!data) return false;
                const scadenza = data.toDate ? data.toDate() : new Date(data);
                return scadenza < new Date();
            };

            if (loading) {
                return (
                    <div className="flex items-center justify-center min-h-screen">
                        <div className="text-center">
                            <div className="animate-spin rounded-full h-16 w-16 border-b-4 border-indigo-600 mx-auto mb-4"></div>
                            <p className="text-gray-600 text-lg">Caricamento comuni...</p>
                        </div>
                    </div>
                );
            }

            return (
                <div className="container mx-auto px-4 py-6">
                    {/* Header */}
                    <div className="mb-6">
                        <h1 className="text-3xl font-bold text-gray-800 mb-2">üìã Gestione Convenzioni Comuni</h1>
                        <p className="text-gray-600">Gestisci le convenzioni e le coordinate dei comuni italiani</p>
                    </div>

                    {/* Stats Cards */}
                    <div className="grid grid-cols-2 lg:grid-cols-4 gap-4 mb-4">
                        <div className="bg-white rounded-lg shadow p-4">
                            <div className="text-sm text-gray-600 mb-1">Comuni Totali</div>
                            <div className="text-2xl font-bold text-gray-800">{stats.totali}</div>
                        </div>
                        <div className="bg-green-50 rounded-lg shadow p-4">
                            <div className="text-sm text-green-700 mb-1">Con Convenzione</div>
                            <div className="text-2xl font-bold text-green-600">{stats.conConvenzione}</div>
                        </div>
                        <div className="bg-blue-50 rounded-lg shadow p-4">
                            <div className="text-sm text-blue-700 mb-1">Convenzioni Valide</div>
                            <div className="text-2xl font-bold text-blue-600">{stats.valide}</div>
                        </div>
                        <div className="bg-red-50 rounded-lg shadow p-4">
                            <div className="text-sm text-red-700 mb-1">Convenzioni Scadute</div>
                            <div className="text-2xl font-bold text-red-600">{stats.scadute}</div>
                        </div>
                    </div>
                    
                    {/* Stats per Tipo Convenzione */}
                    <div className="grid grid-cols-3 gap-4 mb-6">
                        <div className="bg-blue-50 rounded-lg shadow p-4 border-2 border-blue-200">
                            <div className="flex items-center justify-between">
                                <div>
                                    <div className="text-sm text-blue-700 mb-1">üè¢ PS (Pronto Strade)</div>
                                    <div className="text-2xl font-bold text-blue-600">{stats.conPS || 0}</div>
                                </div>
                                <div className="text-4xl opacity-50">üè¢</div>
                            </div>
                        </div>
                        <div className="bg-orange-50 rounded-lg shadow p-4 border-2 border-orange-200">
                            <div className="flex items-center justify-between">
                                <div>
                                    <div className="text-sm text-orange-700 mb-1">‚ö° Competitor</div>
                                    <div className="text-2xl font-bold text-orange-600">{stats.conCompetitor || 0}</div>
                                </div>
                                <div className="text-4xl opacity-50">‚ö°</div>
                            </div>
                        </div>
                        <div className="bg-purple-50 rounded-lg shadow p-4 border-2 border-purple-200">
                            <div className="flex items-center justify-between">
                                <div>
                                    <div className="text-sm text-purple-700 mb-1">üìé Altro</div>
                                    <div className="text-2xl font-bold text-purple-600">{stats.conAltro || 0}</div>
                                </div>
                                <div className="text-4xl opacity-50">üìé</div>
                            </div>
                        </div>
                    </div>

                    {/* Filters */}
                    <div className="bg-white rounded-lg shadow p-4 mb-6">
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-3">
                            {/* Search */}
                            <input
                                type="text"
                                placeholder="üîç Cerca comune..."
                                value={searchTerm}
                                onChange={(e) => setSearchTerm(e.target.value)}
                                className="px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"
                            />
                            
                            {/* Filter Convenzione */}
                            <select
                                value={filterConvenzione}
                                onChange={(e) => setFilterConvenzione(e.target.value)}
                                className="px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500"
                            >
                                <option value="all">Tutte le convenzioni</option>
                                <option value="si">Con convenzione (qualsiasi)</option>
                                <option value="no">Senza convenzione</option>
                                <option value="PS">üè¢ Solo PS</option>
                                <option value="Competitor">‚ö° Solo Competitor</option>
                                <option value="Altro">üìé Solo Altro</option>
                            </select>
                            
                            {/* Filter Scadenza */}
                            <select
                                value={filterScadenza}
                                onChange={(e) => setFilterScadenza(e.target.value)}
                                className="px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500"
                            >
                                <option value="all">Tutte le scadenze</option>
                                <option value="valide">Valide</option>
                                <option value="scadute">Scadute</option>
                                <option value="nessuna">Senza scadenza</option>
                            </select>
                            
                            {/* Filter Regione */}
                            <select
                                value={filterRegione}
                                onChange={(e) => setFilterRegione(e.target.value)}
                                className="px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500"
                            >
                                <option value="all">Tutte le regioni</option>
                                {regioni.map(r => (
                                    <option key={r} value={r}>{r}</option>
                                ))}
                            </select>
                            
                            {/* Filter Provincia */}
                            <select
                                value={filterProvincia}
                                onChange={(e) => setFilterProvincia(e.target.value)}
                                className="px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500"
                            >
                                <option value="all">Tutte le province</option>
                                {province.map(p => (
                                    <option key={p} value={p}>{p}</option>
                                ))}
                            </select>
                            
                            {/* Reset Filters */}
                            <button
                                onClick={() => {
                                    setSearchTerm('');
                                    setFilterConvenzione('all');
                                    setFilterScadenza('all');
                                    setFilterRegione('all');
                                    setFilterProvincia('all');
                                }}
                                className="px-3 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg transition font-medium"
                            >
                                ‚Üª Reset
                            </button>
                        </div>
                        <div className="mt-2 text-sm text-gray-600">
                            Visualizzati: <span className="font-bold">{filteredComuni.length}</span> / {comuni.length}
                        </div>
                    </div>

                    {/* Table */}
                    <div className="bg-white rounded-lg shadow overflow-hidden">
                        <div className="table-scroll">
                            <table className="min-w-full divide-y divide-gray-200">
                                <thead className="sticky-header">
                                    <tr>
                                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Comune</th>
                                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Provincia</th>
                                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Regione</th>
                                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Coordinate</th>
                                        <th className="px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase">Convenzione</th>
                                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Data Scadenza</th>
                                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Ultimo Aggiornamento</th>
                                        <th className="px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase">Azioni</th>
                                    </tr>
                                </thead>
                                <tbody className="bg-white divide-y divide-gray-200">
                                    {filteredComuni.map(comune => (
                                        <tr key={comune.id} className="hover:bg-gray-50">
                                            {editingId === comune.id ? (
                                                <>
                                                    {/* Read-only info */}
                                                    <td className="px-4 py-3 text-sm font-medium text-gray-900">{comune.Comune}</td>
                                                    <td className="px-4 py-3 text-sm text-gray-700">{comune.Provincia}</td>
                                                    <td className="px-4 py-3 text-sm text-gray-700">{comune.Regione}</td>
                                                    
                                                    {/* Editable: Coordinate */}
                                                    <td className="px-4 py-3">
                                                        <div className="space-y-1">
                                                            <input
                                                                type="number"
                                                                step="0.000001"
                                                                placeholder="Latitudine"
                                                                value={editData.LAT}
                                                                onChange={(e) => setEditData({...editData, LAT: e.target.value})}
                                                                className="w-full px-2 py-1 text-sm border rounded"
                                                            />
                                                            <input
                                                                type="number"
                                                                step="0.000001"
                                                                placeholder="Longitudine"
                                                                value={editData.LON}
                                                                onChange={(e) => setEditData({...editData, LON: e.target.value})}
                                                                className="w-full px-2 py-1 text-sm border rounded"
                                                            />
                                                        </div>
                                                    </td>
                                                    
                                                    {/* Editable: Convenzione */}
                                                    <td className="px-4 py-3 text-center">
                                                        <select
                                                            value={editData.Convenzione}
                                                            onChange={(e) => setEditData({...editData, Convenzione: e.target.value})}
                                                            className="w-full px-2 py-1 text-sm border rounded focus:ring-2 focus:ring-indigo-500"
                                                        >
                                                            <option value="Nessuna">Nessuna</option>
                                                            <option value="PS">PS (Pronto Strade)</option>
                                                            <option value="Competitor">Competitor</option>
                                                            <option value="Altro">Altro</option>
                                                        </select>
                                                    </td>
                                                    
                                                    {/* Editable: Data Scadenza */}
                                                    <td className="px-4 py-3">
                                                        <input
                                                            type="date"
                                                            value={editData.DataScadenza}
                                                            onChange={(e) => setEditData({...editData, DataScadenza: e.target.value})}
                                                            className="w-full px-2 py-1 text-sm border rounded"
                                                        />
                                                    </td>
                                                    
                                                    <td className="px-4 py-3"></td>
                                                    
                                                    {/* Actions */}
                                                    <td className="px-4 py-3 text-center">
                                                        <div className="flex gap-2 justify-center">
                                                            <button
                                                                onClick={() => saveChanges(comune.id)}
                                                                disabled={saving}
                                                                className="px-3 py-1 bg-green-600 hover:bg-green-700 text-white text-sm rounded transition disabled:opacity-50"
                                                            >
                                                                {saving ? '...' : '‚úì Salva'}
                                                            </button>
                                                            <button
                                                                onClick={cancelEdit}
                                                                disabled={saving}
                                                                className="px-3 py-1 bg-gray-400 hover:bg-gray-500 text-white text-sm rounded transition"
                                                            >
                                                                ‚úï Annulla
                                                            </button>
                                                        </div>
                                                    </td>
                                                </>
                                            ) : (
                                                <>
                                                    {/* Display Mode */}
                                                    <td className="px-4 py-3 text-sm font-medium text-gray-900">{comune.Comune}</td>
                                                    <td className="px-4 py-3 text-sm text-gray-700">{comune.Provincia}</td>
                                                    <td className="px-4 py-3 text-sm text-gray-700">{comune.Regione}</td>
                                                    <td className="px-4 py-3 text-sm text-gray-700">
                                                        {comune.LAT && comune.LON ? 
                                                            `${comune.LAT.toFixed(6)}, ${comune.LON.toFixed(6)}` :
                                                            <span className="text-gray-400">Non impostate</span>
                                                        }
                                                    </td>
                                                    <td className="px-4 py-3 text-center">
                                                        {(() => {
                                                            const conv = comune.Convenzione;
                                                            // Gestisci vecchi valori boolean
                                                            if (conv === true || conv === 'Si') {
                                                                return (
                                                                    <span className="inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                                                                        üè¢ PS
                                                                    </span>
                                                                );
                                                            }
                                                            // Nuovi valori string
                                                            if (conv === 'PS') {
                                                                return (
                                                                    <span className="inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                                                                        üè¢ PS
                                                                    </span>
                                                                );
                                                            }
                                                            if (conv === 'Competitor') {
                                                                return (
                                                                    <span className="inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-orange-100 text-orange-800">
                                                                        ‚ö° Competitor
                                                                    </span>
                                                                );
                                                            }
                                                            if (conv === 'Altro') {
                                                                return (
                                                                    <span className="inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-purple-100 text-purple-800">
                                                                        üìé Altro
                                                                    </span>
                                                                );
                                                            }
                                                            // Nessuna convenzione
                                                            return (
                                                                <span className="inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800">
                                                                    - Nessuna
                                                                </span>
                                                            );
                                                        })()}
                                                    </td>
                                                    <td className="px-4 py-3 text-sm">
                                                        {comune.DataScadenza ? (
                                                            <span className={isScaduta(comune.DataScadenza) ? 'text-red-600 font-semibold' : 'text-gray-700'}>
                                                                {formatDate(comune.DataScadenza)}
                                                                {isScaduta(comune.DataScadenza) && ' ‚ö†Ô∏è'}
                                                            </span>
                                                        ) : (
                                                            <span className="text-gray-400">-</span>
                                                        )}
                                                    </td>
                                                    <td className="px-4 py-3 text-xs text-gray-500">
                                                        {comune.lastModifiedBy ? (
                                                            <div>
                                                                <div className="font-medium">{comune.lastModifiedBy}</div>
                                                                <div>{comune.lastModifiedAt ? formatDate(comune.lastModifiedAt) : '-'}</div>
                                                            </div>
                                                        ) : (
                                                            <span className="text-gray-400">-</span>
                                                        )}
                                                    </td>
                                                    <td className="px-4 py-3 text-center">
                                                        <button
                                                            onClick={() => startEdit(comune)}
                                                            className="px-3 py-1 bg-indigo-600 hover:bg-indigo-700 text-white text-sm rounded transition"
                                                        >
                                                            ‚úé Modifica
                                                        </button>
                                                    </td>
                                                </>
                                            )}
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                        </div>
                    </div>

                    {/* Info Box */}
                    <div className="mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4">
                        <h3 className="font-bold text-blue-900 mb-2">‚ÑπÔ∏è Informazioni</h3>
                        <ul className="text-sm text-blue-800 space-y-1">
                            <li>‚Ä¢ Puoi modificare solo le <strong>coordinate</strong>, lo stato della <strong>convenzione</strong> e la <strong>data di scadenza</strong></li>
                            <li>‚Ä¢ Le modifiche vengono tracciate automaticamente con email utente e timestamp</li>
                            <li>‚Ä¢ Le convenzioni scadute sono evidenziate in rosso</li>
                            <li>‚Ä¢ Usa i filtri per trovare rapidamente i comuni di interesse</li>
                        </ul>
                    </div>
                </div>
            );
        }

        // Mount app
        ReactDOM.render(<GestioneConvenzioni />, document.getElementById('root'));
    </script>
</body>
</html>
